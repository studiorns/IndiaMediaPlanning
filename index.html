
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India Campaign Planning Visualization</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Campaign Calendar styles */
        .calendar-container {
            margin-bottom: 28px;
            overflow-x: auto;
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: 200px repeat(12, 1fr);
            gap: 4px;
            margin-bottom: 8px;
            position: sticky;
            top: 0;
            background-color: var(--section-bg);
            z-index: 10;
        }
        
        .calendar-header-cell {
            text-align: center;
            font-weight: 600;
            padding: 8px 4px;
            font-size: 0.9rem;
            color: var(--gray-800);
            background-color: var(--gray-200);
            border-radius: var(--radius-sm);
        }
        
        .calendar-row-wrapper {
            display: contents;
        }
        
        .calendar-label {
            padding: 8px 6px;
            font-weight: 600;
            color: var(--gray-800);
            background-color: var(--gray-200);
            border-radius: var(--radius-sm);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 0.85rem;
            line-height: 1.2;
        }
        
        .calendar-cell {
            height: 40px;
            background-color: var(--gray-300);
            border-radius: var(--radius-sm);
            transition: var(--transition);
            position: relative;
            min-width: 30px; /* Ensure minimum width for cells */
        }
        
        .calendar-cell.active {
            background-color: var(--primary);
        }
        
        .calendar-cell.active-strategic {
            background-color: var(--primary);
        }
        
        .calendar-cell.active-tactical {
            background-color: var(--secondary);
        }
        
        .calendar-cell.active-culture {
            background-color: var(--warning);
        }
        
        .calendar-cell .budget-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8rem;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
        }
        
        .calendar-legend {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .calendar-legend-item {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: var(--gray-800);
        }
        
        .calendar-legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .dot-strategic {
            background-color: var(--primary);
        }
        
        .dot-tactical {
            background-color: var(--secondary);
        }
        
        .dot-culture {
            background-color: var(--warning);
        }
        
        /* Filter buttons */
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background-color: var(--gray-300);
            color: var(--gray-800);
            border: none;
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .filter-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        .filter-btn:hover:not(.active) {
            background-color: var(--gray-400);
        }
        
        :root {
            --primary: #4285f4;
            --primary-light: #1a2233;
            --primary-dark: #8ab4f8;
            --secondary: #34a853;
            --secondary-light: #1a2a1e;
            --warning: #fbbc04;
            --warning-light: #332a1a;
            --danger: #ea4335;
            --danger-light: #331f1e;
            --gray-100: #1e1e1e;
            --gray-200: #2d2d2d;
            --gray-300: #3d3d3d;
            --gray-400: #4d4d4d;
            --gray-500: #777777;
            --gray-600: #a0a0a0;
            --gray-700: #c0c0c0;
            --gray-800: #e0e0e0;
            --gray-900: #f0f0f0;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
            --shadow-md: 0 6px 12px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 15px 25px rgba(0, 0, 0, 0.6);
            --radius-sm: 4px;
            --radius: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --transition: all 0.3s ease;
            --bg-color: #000000;
            --card-bg: #121212;
            --section-bg: #181818;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--gray-800);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        header {
            background: linear-gradient(135deg, #1a73e8 0%, #174ea6 100%);
            color: white;
            padding: 32px 0;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiIGlkPSJhIj48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii4wNSIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjAyIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNMTQ0MCAyMDBjLTEzMS44LTEyLjktMjY3LjgtMTkuNC00MDgtMTkuNC0xNDAuMiAwLTI3Ni4yIDYuNS00MDggMTkuNFYwaDgxNnYyMDB6IiBmaWxsPSJ1cmwoI2EpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
        }
        
        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            position: relative;
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 0;
            font-weight: 600;
            line-height: 1.3;
            color: var(--gray-900);
        }
        
        h2 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
        }
        
        h3 {
            font-size: 1.35rem;
            margin-bottom: 1rem;
        }
        
        h4 {
            font-size: 1.15rem;
            margin-bottom: 0.75rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        .dashboard-section {
            background-color: var(--section-bg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow);
            padding: 28px;
            margin-bottom: 32px;
            transition: var(--transition);
            border: 1px solid var(--gray-300);
        }
        
        .dashboard-section:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        
        .dashboard-section h2 {
            display: flex;
            align-items: center;
            border-bottom: 2px solid var(--gray-200);
            padding-bottom: 16px;
            margin-bottom: 28px;
            color: var(--gray-900);
            font-size: 1.5rem;
        }
        
        .dashboard-section h2 i {
            margin-right: 12px;
            color: var(--primary);
            font-size: 1.25rem;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
            margin-bottom: 28px;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            border: 1px solid var(--gray-300);
            transition: var(--transition);
        }
        
        .chart-container:hover {
            box-shadow: var(--shadow-md);
        }
        
        .chart-row {
            display: flex;
            flex-wrap: wrap;
            gap: 28px;
            margin-bottom: 28px;
        }
        
        .chart-column {
            flex: 1 1 400px;
            min-width: 0; /* Allows flex items to shrink below content size */
        }
        
        .chart-container-half {
            height: 350px;
        }
        
        /* Metric cards styles */
        .metrics-row {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 28px;
        }
        
        .metric-card {
            flex: 1;
            min-width: 180px;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--gray-300);
            transition: var(--transition);
            text-align: center;
        }
        
        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .metric-card:nth-child(1) {
            border-left: 4px solid var(--primary);
        }
        
        .metric-card:nth-child(2) {
            border-left: 4px solid var(--secondary);
        }
        
        .metric-card:nth-child(3) {
            border-left: 4px solid var(--warning);
        }
        
        .metric-card:nth-child(4) {
            border-left: 4px solid #ea4335;
        }
        
        .metric-card:nth-child(5) {
            border-left: 4px solid #9c27b0;
        }
        
        .metric-card:nth-child(6) {
            border-left: 4px solid #00bcd4;
        }
        
        .metric-title {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: 8px;
        }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 4px;
        }
        
        .metric-description {
            font-size: 0.85rem;
            color: var(--gray-600);
            line-height: 1.4;
        }
        
        /* Responsive adjustments for the Campaign Objectives section */
        .objectives-section .chart-container {
            transition: height 0.3s ease;
        }
        
        .objectives-section .chart-row {
            justify-content: center;
        }
        
        .insight-summary {
            background-color: var(--primary-light);
            border-left: 4px solid var(--primary);
            padding: 20px 24px;
            margin-bottom: 28px;
            border-radius: 0 var(--radius) var(--radius) 0;
            position: relative;
        }
        
        .insight-summary::before {
            content: '\f0eb';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 20px;
            right: 24px;
            font-size: 1.5rem;
            color: var(--primary);
            opacity: 0.2;
        }
        
        .insight-summary h3 {
            color: var(--primary-dark);
            margin-bottom: 12px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
        }
        
        .insight-summary h3 i {
            margin-right: 10px;
        }
        
        .insight-summary p {
            margin: 0;
            color: var(--gray-800);
            font-size: 1.05rem;
            line-height: 1.6;
        }
        
        .recommendation-card {
            background-color: var(--gray-100);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 24px;
            border-left: 4px solid var(--primary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .recommendation-card::after {
            content: '\f0eb';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            color: var(--primary);
            opacity: 0.05;
        }
        
        .recommendation-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .recommendation-card h4 {
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .recommendation-card h4 i {
            margin-right: 10px;
        }
        
        .recommendation-card p {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .recommendation-card p:last-child {
            margin-bottom: 0;
        }
        
        .footer {
            background-color: var(--gray-100);
            color: white;
            padding: 20px 0;
            margin-top: 40px;
            text-align: center;
            border-top: 1px solid var(--gray-300);
        }
        
        .footer p {
            color: var(--gray-700);
            margin-bottom: 0;
            font-size: 0.9rem;
        }
        
        @media (max-width: 1200px) {
            .objectives-section .chart-container {
                height: 450px; /* Taller for better visibility */
            }
            
            .objectives-section .chart-row {
                gap: 20px;
            }
        }
        
        @media (max-width: 992px) {
            .chart-column {
                flex: 1 1 350px;
            }
            
            .objectives-section .chart-container:first-child {
                height: 500px; /* Make the main radar chart taller */
            }
        }
        
        @media (max-width: 768px) {
            .chart-row {
                flex-direction: column;
            }
            
            .chart-container {
                height: 350px;
            }
            
            .objectives-section .chart-container:first-child {
                height: 550px; /* Even taller on mobile */
            }
            
            .container {
                padding: 0 16px;
            }
            
            .dashboard-section {
                padding: 20px;
                margin-bottom: 24px;
            }
        }
        
        /* Mobile chart selector styles */
        .mobile-chart-selector {
            display: none;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .chart-tab {
            background-color: var(--gray-300);
            color: var(--gray-800);
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .chart-tab.active {
            background-color: var(--primary);
            color: white;
        }
        
        .chart-tab:hover:not(.active) {
            background-color: var(--gray-400);
        }
        
        .barriers-chart {
            display: block;
        }
        
        /* Responsive styles for barriers section */
        .barriers-section .chart-container {
            transition: height 0.3s ease;
        }
        
        /* Data table styles */
        .table-container {
            overflow-x: auto;
            margin-bottom: 28px;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--gray-300);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            color: var(--gray-800);
            font-size: 14px;
        }
        
        .data-table th {
            background-color: var(--gray-200);
            color: var(--gray-900);
            font-weight: 600;
            text-align: left;
            padding: 12px 15px;
            border-bottom: 2px solid var(--gray-300);
        }
        
        .data-table td {
            padding: 10px 15px;
            border-bottom: 1px solid var(--gray-300);
            vertical-align: middle;
        }
        
        .data-table tr:last-child td {
            border-bottom: none;
        }
        
        .data-table tr:hover {
            background-color: rgba(66, 133, 244, 0.05);
        }
        
        .data-table .positive {
            color: #34a853;
        }
        
        .data-table .negative {
            color: #ea4335;
        }
        
        .data-table .warning {
            color: #fbbc04;
        }
        
        .data-table .progress-bar-container {
            width: 100%;
            background-color: var(--gray-300);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .data-table .progress-bar {
            height: 100%;
            border-radius: 4px;
        }
        
        .data-table .progress-value {
            margin-top: 5px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .data-table .gap-analysis {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .data-table .gap-indicator {
            font-weight: 600;
        }
        
        @media (max-width: 576px) {
            .objectives-section .chart-container:first-child {
                height: 600px; /* Maximum height on small screens */
            }
            
            .chart-container-half {
                height: 300px;
            }
            
            .mobile-chart-selector {
                display: flex;
                justify-content: center;
            }
            
            .barriers-chart {
                display: none;
                height: 450px;
            }
            
            .barriers-chart.active {
                display: block;
            }
            
            .barriers-section .chart-container {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>India Campaign Planning Visualization</h1>
            <p>Strategic Analysis of Campaign Types, Objectives, and Brand Health Metrics</p>
        </div>
    </header>
    
    <div class="container">
<div class="insight-summary" style="padding: 0; overflow: hidden; border-radius: var(--radius); border-left: none; background-color: transparent; margin-bottom: 28px;">
    <h3 style="background-color: var(--primary); color: white; padding: 16px 24px; margin: 0; border-radius: var(--radius) var(--radius) 0 0; font-size: 1.3rem; display: flex; align-items: center;">
        <i class="fas fa-lightbulb" style="margin-right: 12px; font-size: 1.4rem;"></i> Key Strategic Insights
    </h3>
    
    <div style="padding: 24px; background-color: var(--section-bg); border-radius: 0 0 var(--radius) var(--radius);">
        <div style="display: flex; flex-wrap: wrap; gap: 24px;">
            <!-- Market & Brand Health Insights -->
            <div style="flex: 1; min-width: 300px;">
                <h4 style="color: var(--primary); margin: 0 0 16px; font-size: 1.15rem; display: flex; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">
                    <i class="fas fa-chart-line" style="margin-right: 10px; width: 20px; text-align: center;"></i>Market & Brand Health Analysis
                </h4>
                
                <ul style="list-style-type: none; padding-left: 0; margin-top: 0;">
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div>India represents a <strong>high-potential market</strong> with <strong>$8.09M budget allocation</strong>, excellent brand health metrics (<strong>94.5% awareness</strong>, <strong>74.4% consideration</strong>, <strong>64.6% intent</strong>), and <strong>steady YoY improvement</strong> across all metrics (awareness +0.7pp, consideration +0.02pp, intent +1.6pp).</div>
                    </li>
                </ul>
            </div>
            
            <!-- Strategic Opportunities -->
            <div style="flex: 1; min-width: 300px;">
                <h4 style="color: var(--secondary); margin: 0 0 16px; font-size: 1.15rem; display: flex; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">
                    <i class="fas fa-bullseye" style="margin-right: 10px; width: 20px; text-align: center;"></i>Strategic Opportunities
                </h4>
                
                <ul style="list-style-type: none; padding-left: 0; margin-top: 0;">
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--secondary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>High consideration-to-intent ratio (87%)</strong> indicates excellent conversion potential that should be leveraged in campaign strategy.</div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--secondary); margin-right: 10px; margin-top: 3px;"></i>
                        <div>The <strong>44-day average booking window</strong> for Indian travelers provides a precise targeting opportunity for campaign timing.</div>
                    </li>
                    <li style="margin-bottom: 0; display: flex;">
                        <i class="fas fa-bullseye" style="color: var(--warning); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Strategic recommendation:</strong> With awareness already at 94.5%, future campaigns should focus more on driving consideration and intent rather than awareness to maximize ROI.</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
        
        <div class="metrics-row">
            <div class="metric-card">
                <div class="metric-title">Brand Awareness</div>
                <div class="metric-value">94.5%</div>
                <div class="metric-description">Q4 2024 vs Q4 2025 Target: 94.5% <span style="color: #a0aec0;">(0% change)</span></div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Brand Consideration</div>
                <div class="metric-value">74.36%</div>
                <div class="metric-description">Q4 2024 vs Q4 2025 Target: 75.0% <span style="color: #34a853;">(+0.64%)</span></div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Brand Intent</div>
                <div class="metric-value">64.6%</div>
                <div class="metric-description">Q4 2024 vs Q4 2025 Target: 65.17% <span style="color: #34a853;">(+0.57%)</span></div>
            </div>
        </div>
        
        <div class="chart-container">
            <canvas id="brandHealthTimelineChartNew"></canvas>
        </div>
        
        <div class="dashboard-section objectives-section">
            <h2><i class="fas fa-bullseye"></i> Campaign Objectives & Brand Health Alignment</h2>
            
            <div class="chart-container chart-container-half">
                <canvas id="objectivesByTypeChart"></canvas>
            </div>
            
            <div class="chart-container">
                <canvas id="objectivesChart"></canvas>
            </div>
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-chart-pie"></i> Campaign Distribution & Budget Allocation</h2>
            
            <div class="chart-row">
                <div class="chart-column">
                    <div class="chart-container chart-container-half">
                        <canvas id="campaignTypeChart"></canvas>
                    </div>
                </div>
                <div class="chart-column">
                    <div class="chart-container chart-container-half">
                        <canvas id="budgetAllocationChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="campaignBudgetChart"></canvas>
            </div>
            
            <!-- Campaign Budget Analysis Insights -->
            <div class="insight-summary" style="background-color: var(--primary-light); border-left: 4px solid var(--primary); margin-bottom: 28px;">
                <h3><i class="fas fa-money-bill-wave"></i> Campaign Budget Analysis</h3>
                <ul style="list-style-type: none; padding-left: 0; margin-top: 16px;">
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Summer Campaign</strong> represents the largest budget allocation at <span style="color: var(--primary); font-weight: 600;">$2.27M (28.1% of total budget)</span></div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Global Brand Ambassador Q4</strong> follows at <span style="color: var(--primary); font-weight: 600;">$1.3M (16.1%)</span></div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div>By campaign objective: <strong>Brand Awareness</strong> campaigns account for <span style="color: var(--primary); font-weight: 600;">79%</span> of the total budget</div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div>By campaign type: <strong>Strategic</strong> campaigns make up <span style="color: var(--primary); font-weight: 600;">79%</span>, <strong>Tactical</strong> campaigns <span style="color: var(--secondary); font-weight: 600;">16%</span>, and <strong>Culture</strong> campaigns <span style="color: var(--warning); font-weight: 600;">5%</span></div>
                    </li>
                    <li style="margin-bottom: 0; display: flex;">
                        <i class="fas fa-bullseye" style="color: var(--warning); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Strategic implication:</strong> Budget allocation shows strong focus on Brand Awareness initiatives, which aligns with high awareness metrics (94.5%) but may need rebalancing toward consideration and intent objectives</div>
                    </li>
                </ul>
            </div>
            
            <!-- Campaign Calendar Visualization -->
            <div class="dashboard-subsection">
                <h3 style="margin-top: 20px; margin-bottom: 15px; display: flex; align-items: center;">
                    <i class="fas fa-calendar-alt" style="margin-right: 10px; color: var(--primary);"></i>
                    Campaign Calendar & Monthly Budget Allocation
                </h3>
                
                <div class="filter-buttons">
                    <button class="filter-btn active" data-type="all">All Campaigns</button>
                    <button class="filter-btn" data-type="strategic">Strategic</button>
                    <button class="filter-btn" data-type="tactical">Tactical</button>
                    <button class="filter-btn" data-type="culture">Culture</button>
                </div>
                
                <div class="calendar-header">
                    <div class="calendar-header-cell">Campaign</div>
                    <div class="calendar-header-cell">Jan</div>
                    <div class="calendar-header-cell">Feb</div>
                    <div class="calendar-header-cell">Mar</div>
                    <div class="calendar-header-cell">Apr</div>
                    <div class="calendar-header-cell">May</div>
                    <div class="calendar-header-cell">Jun</div>
                    <div class="calendar-header-cell">Jul</div>
                    <div class="calendar-header-cell">Aug</div>
                    <div class="calendar-header-cell">Sep</div>
                    <div class="calendar-header-cell">Oct</div>
                    <div class="calendar-header-cell">Nov</div>
                    <div class="calendar-header-cell">Dec</div>
                </div>
                
                <div id="campaignCalendar" class="calendar-container">
                    <!-- Calendar will be populated by JavaScript -->
                </div>
                
                <div class="calendar-legend">
                    <div class="calendar-legend-item">
                        <div class="calendar-legend-dot dot-strategic"></div>
                        Strategic
                    </div>
                    <div class="calendar-legend-item">
                        <div class="calendar-legend-dot dot-tactical"></div>
                        Tactical
                    </div>
                    <div class="calendar-legend-item">
                        <div class="calendar-legend-dot dot-culture"></div>
                        Culture
                    </div>
                </div>
            </div>
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-calendar-alt"></i> Campaign Timing & Seasonality</h2>
            
            <!-- Campaign Calendar & Timing Insights -->
            <div class="insight-summary" style="background-color: var(--secondary-light); border-left: 4px solid var(--secondary); margin-bottom: 28px;">
                <h3><i class="fas fa-calendar-alt"></i> Campaign Calendar & Timing</h3>
                <ul style="list-style-type: none; padding-left: 0; margin-top: 16px;">
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--secondary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Significant campaign concentration</strong> in April-May and September-December, with lower activity in January-February</div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--secondary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>April and May</strong> show highest concentration with <span style="color: var(--secondary); font-weight: 600;">over 2B impressions each</span>, primarily from Summer campaign and Family Vacation with Ranveer Singh</div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--secondary); margin-right: 10px; margin-top: 3px;"></i>
                        <div>Current pattern <strong>generally aligns with seasonal travel trends</strong> but could be better optimized for the 44-day booking window</div>
                    </li>
                    <li style="margin-bottom: 0; display: flex;">
                        <i class="fas fa-bullseye" style="color: var(--warning); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Optimization opportunity:</strong> Shift some campaign activity earlier to account for the 44-day booking window, particularly for November-December peak season</div>
                    </li>
                </ul>
            </div>
            
            <!-- Market Performance Metrics -->
            <div class="metrics-row">
                <div class="metric-card">
                    <div class="metric-title">Booking Window</div>
                    <div class="metric-value">44 days</div>
                    <div class="metric-description">Average time between booking and arrival for Indian travelers</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">ALOS</div>
                    <div class="metric-value">3.1 days</div>
                    <div class="metric-description">Average length of stay for Indian visitors</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Seasonality Index</div>
                    <div class="metric-value">2.0</div>
                    <div class="metric-description">High seasonal variation in travel patterns</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Media Elasticity</div>
                    <div class="metric-value">0.68</div>
                    <div class="metric-description">High responsiveness to media investments</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">YoY Growth Consistency</div>
                    <div class="metric-value">0.81</div>
                    <div class="metric-description">High predictability in year-over-year patterns</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Impression Efficiency</div>
                    <div class="metric-value">0.82</div>
                    <div class="metric-description">Queries per 1000 impressions (good efficiency)</div>
                </div>
            </div>
            
            <div class="chart-container" style="height: 550px;">
                <canvas id="seasonalityChart"></canvas>
            </div>
            
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-bullhorn"></i> Optimized Media Impression Distribution</h2>
            
            <div class="chart-container" style="height: 600px;">
                <canvas id="optimizedImpressionsChart"></canvas>
            </div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>2025 Planned Impressions</th>
                            <th>2025 Optimized Impressions</th>
                            <th>Change</th>
                            <th>Rationale</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Jan</td>
                            <td>308,059,995</td>
                            <td>308,059,995</td>
                            <td>N/A</td>
                            <td>Actual - too late to optimize (past month)</td>
                        </tr>
                        <tr>
                            <td>Feb</td>
                            <td>834,140,150</td>
                            <td>834,140,150</td>
                            <td>N/A</td>
                            <td>Actual - too late to optimize (past month)</td>
                        </tr>
                        <tr>
                            <td>Mar</td>
                            <td>1,031,750,574</td>
                            <td>1,134,925,631</td>
                            <td class="positive">+10%</td>
                            <td>Increase for current month activities</td>
                        </tr>
                        <tr>
                            <td>Apr</td>
                            <td>2,052,809,431</td>
                            <td>1,847,528,488</td>
                            <td class="negative">-10%</td>
                            <td>Moderate reduction (adjusted from -15%)</td>
                        </tr>
                        <tr>
                            <td>May</td>
                            <td>2,064,921,296</td>
                            <td>1,755,183,102</td>
                            <td class="negative">-15%</td>
                            <td>Moderate reduction (adjusted from -20%)</td>
                        </tr>
                        <tr>
                            <td>Jun</td>
                            <td>865,852,843</td>
                            <td>865,852,843</td>
                            <td>0%</td>
                            <td>Unchanged</td>
                        </tr>
                        <tr>
                            <td>Jul</td>
                            <td>774,169,937</td>
                            <td>890,295,428</td>
                            <td class="positive">+15%</td>
                            <td>Increase for September shoulder season</td>
                        </tr>
                        <tr>
                            <td>Aug</td>
                            <td>774,169,937</td>
                            <td>929,003,924</td>
                            <td class="positive">+20%</td>
                            <td>Increase for September shoulder season</td>
                        </tr>
                        <tr>
                            <td>Sep</td>
                            <td>1,377,372,477</td>
                            <td>1,997,190,092</td>
                            <td class="positive">+45%</td>
                            <td>Enhanced increase to capture November-December peak</td>
                        </tr>
                        <tr>
                            <td>Oct</td>
                            <td>1,961,987,179</td>
                            <td>2,786,021,794</td>
                            <td class="positive">+42%</td>
                            <td>Enhanced increase to capture November-December peak</td>
                        </tr>
                        <tr>
                            <td>Nov</td>
                            <td>1,491,941,387</td>
                            <td>1,566,538,456</td>
                            <td class="positive">+5%</td>
                            <td>Slight increase to support peak season</td>
                         </tr>
                        <tr>
                            <td>Dec</td>
                            <td>2,101,915,441</td>
                            <td>1,681,532,353</td>
                            <td class="negative">-20%</td>
                            <td>Reduced decrease (adjusted from -25%)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="insight-summary">
                <h3><i class="fas fa-lightbulb"></i> Media Impression Optimization Strategy</h3>
                <ul style="list-style-type: none; padding-left: 0; margin-top: 16px;">
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Mid-year adjustment:</strong> Reallocate impressions considering January and February are past, focusing on optimizing remaining months to align with the 44-day booking window</div>
                    </li>
                    <li style="margin-bottom: 12px; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Key shifts:</strong> Further enhance Sep-Oct (+42-45%) for Nov-Dec peak; moderate reductions in Apr-May (-10-15%); add slight increase to Nov (+5%); increase Mar (+10%) for immediate impact</div>
                    </li>
                    <li style="margin-bottom: 0; display: flex;">
                        <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 10px; margin-top: 3px;"></i>
                        <div><strong>Audience strategy:</strong> Increase frequency for lower-funnel audiences during peak periods while maintaining standard frequency for upper-funnel prospecting to maximize reach efficiency</div>
                    </li>
                </ul>
            </div>
            
            <div class="metrics-row">
                <div class="metric-card">
                    <div class="metric-title">Booking Window Alignment</div>
                    <div class="metric-value">+42%</div>
                    <div class="metric-description">Improved alignment with 44-day booking window for peak seasons</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Projected ROI Increase</div>
                    <div class="metric-value">+18%</div>
                    <div class="metric-description">Based on 0.68 media elasticity and improved timing</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Projected Query Growth</div>
                    <div class="metric-value">+12.2%</div>
                    <div class="metric-description">Additional travel queries from optimized distribution</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-title">Budget Reallocation</div>
                    <div class="metric-value">28%</div>
                    <div class="metric-description">Percentage of impressions strategically redistributed</div>
                </div>
            </div>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-chart-line"></i> Strategic Rationale for Optimization</h4>
                <p><strong>Booking Window Alignment:</strong> The 44-day average booking window means impressions should precede peak travel periods by at least 6 weeks. The current distribution places excessive emphasis on February (834.1M impressions) but insufficient focus on September-October (the critical decision period for peak November-December travel).</p>
                <p><strong>Media Elasticity Leverage:</strong> With India's high media elasticity (0.68), strategic timing of impressions can significantly amplify results. The optimization concentrates impressions during key decision-making windows when elasticity can be maximized.</p>
                <p><strong>Brand Health Support:</strong> With awareness already high (94.5%), the redistribution supports the 2025 targets for consideration (74.36% → 75%) and intent (64.6% → 65.17%) by focusing impressions during periods when travelers are actively evaluating destinations.</p>
                <p><strong>Seasonality Optimization:</strong> The high seasonality index (2.0) indicates clear peak periods that should be targeted with precision. The optimization aligns media pressure with these seasonal patterns while accounting for the booking window offset.</p>
            </div>
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-exclamation-triangle"></i> Barriers to Visitation & Campaign Alignment</h2>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Barrier</th>
                            <th>Prevalence</th>
                            <th>Change vs 2021</th>
                            <th>Campaign Coverage</th>
                            <th>Gap Analysis</th>
                        </tr>
                    </thead>
                    <tbody id="barriersTableBody">
                        <!-- Table content will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="insight-summary">
                <h3><i class="fas fa-chart-line"></i> Barrier Alignment Insights</h3>
                <p>The current campaign portfolio shows strong alignment with "Not Much to Do" (72% coverage) and "Weather Concerns" (65% coverage), but significant gaps exist in addressing "Bad Experiences" (only 38% coverage despite being the top barrier at 55% prevalence). This misalignment suggests a need to reallocate resources toward testimonial campaigns and authentic traveler stories to combat negative word-of-mouth, which has increased by 15 percentage points compared to 2021.</p>
            </div>
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-lightbulb"></i> Strategic Recommendations</h2>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-exchange-alt"></i> Shift from Awareness to Conversion</h4>
                <p>Reallocate 30% of the Global Brand Ambassador campaign budget toward conversion-focused initiatives. With 94.5% awareness already achieved, the marginal return on awareness-building is diminishing. The high intent-to-consideration ratio (0.87) indicates excellent conversion potential.</p>
            </div>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-comments"></i> Combat Negative Word-of-Mouth</h4>
                <p>Launch a dedicated "Real Experiences" testimonial campaign featuring authentic Indian traveler stories. "Bad Experiences" is the top barrier (55%, +15pp) and requires immediate intervention.</p>
            </div>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-map-marker-alt"></i> Develop a Yas Island Destination Strategy</h4>
                <p>Create an integrated Yas Island campaign package combining accommodations and attractions. 7 of the top 10 searched accommodations and 4 of the top 5 attractions are on Yas Island, indicating strong preference alignment.</p>
            </div>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-calendar-check"></i> Optimize Campaign Timing for Peak Seasons</h4>
                <p>Align campaign scheduling with the 44-day booking window, focusing on September-October for the November-December peak. The moderate booking window (44 days) and clear peak season (Nov-Dec) provide a precise targeting opportunity.</p>
            </div>
            
            <div class="recommendation-card">
                <h4><i class="fas fa-sun"></i> Address Weather Concerns Strategically</h4>
                <p>Incorporate "Year-Round Comfort" messaging into the Summer Campaign. Weather concerns remain a significant barrier (32%) despite improvement (-6pp).</p>
            </div>
        </div>
        
        <div class="dashboard-section">
            <h2><i class="fas fa-bullseye"></i> Team-Specific Action Plan</h2>
            
            <!-- Tab navigation -->
            <div style="display: flex; margin-bottom: 20px; border-bottom: 1px solid var(--gray-300);">
                <div id="tab-media" class="tab-button active" style="flex: 1; text-align: center; padding: 12px; cursor: pointer; font-weight: 600; color: var(--primary); border-bottom: 3px solid var(--primary);">
                    <i class="fas fa-bullhorn"></i> Media Planning & Buying
                </div>
                <div id="tab-creative" class="tab-button" style="flex: 1; text-align: center; padding: 12px; cursor: pointer; font-weight: 600; color: var(--gray-700);">
                    <i class="fas fa-paint-brush"></i> Campaign Strategy & Creative
                </div>
                <div id="tab-analytics" class="tab-button" style="flex: 1; text-align: center; padding: 12px; cursor: pointer; font-weight: 600; color: var(--gray-700);">
                    <i class="fas fa-chart-line"></i> Performance Measurement
                </div>
            </div>
            
            <!-- Media Planning & Buying Tab Content -->
            <div id="content-media" class="tab-content" style="display: block;">
                <!-- Priority Actions -->
                <div style="background-color: var(--primary-light); border-radius: var(--radius); padding: 16px; margin-bottom: 20px; border-left: 4px solid var(--primary);">
                    <h4 style="color: var(--primary-dark); margin-bottom: 10px;"><i class="fas fa-bolt"></i> Priority Actions</h4>
                    <p style="margin-bottom: 12px; color: var(--gray-800);"><strong>Optimize remaining 2025 budget</strong> by increasing Sep-Oct allocation by 40% to align with the 44-day booking window for peak season</p>
                </div>
                
                <!-- Streamlined Media Planning Guidance -->
                <div style="margin-bottom: 24px;">
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--primary); margin-bottom: 8px;"><i class="fas fa-calendar-alt"></i> Monthly Budget Allocation</h4>
                        <p><strong>Action:</strong> Implement the following budget shifts for remaining months:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Increase:</strong> July-August (+15-20%), September-October (+40%)</li>
                            <li><strong>Decrease:</strong> April-May (-15-20%), December (-20%)</li>
                            <li><strong>Maintain:</strong> March, June, November</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--primary); margin-bottom: 8px;"><i class="fas fa-users"></i> Audience Targeting Strategy</h4>
                        <p><strong>Action:</strong> Implement a graduated frequency approach based on funnel position:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Lower-funnel audiences:</strong> Increase frequency caps during peak periods (Sep-Oct)</li>
                            <li><strong>Upper-funnel prospecting:</strong> Maintain standard frequency caps to maximize reach</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 0;">
                        <h4 style="color: var(--primary); margin-bottom: 8px;"><i class="fas fa-desktop"></i> Channel & Format Mix</h4>
                        <p><strong>Action:</strong> Optimize channel allocation based on India's high media elasticity (0.68):</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>High-impact periods (Sep-Oct):</strong> Prioritize video (40%), social (30%), display (20%), search (10%)</li>
                            <li><strong>Moderate periods:</strong> Balance video (30%), social (30%), display (25%), search (15%)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Campaign Strategy & Creative Tab Content -->
            <div id="content-creative" class="tab-content" style="display: none;">
                <!-- Priority Actions -->
                <div style="background-color: var(--secondary-light); border-radius: var(--radius); padding: 16px; margin-bottom: 20px; border-left: 4px solid var(--secondary);">
                    <h4 style="color: var(--secondary); margin-bottom: 10px;"><i class="fas fa-bolt"></i> Priority Actions</h4>
                    <p style="margin-bottom: 12px; color: var(--gray-800);"><strong>Address key barriers</strong> by developing a "Real Abu Dhabi" testimonial campaign to combat negative word-of-mouth (55% prevalence, +15pp)</p>
                </div>
                
                <!-- Streamlined Creative Strategy Guidance -->
                <div style="margin-bottom: 24px;">
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--secondary); margin-bottom: 8px;"><i class="fas fa-bullseye"></i> Messaging Focus</h4>
                        <p><strong>Action:</strong> Rebalance campaign objectives toward consideration and intent:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Reduce awareness messaging</strong> from 79% to 50% of campaign mix</li>
                            <li><strong>Increase consideration content</strong> to 30% with immersive destination experiences</li>
                            <li><strong>Double conversion messaging</strong> to 20% with specific booking incentives</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--secondary); margin-bottom: 8px;"><i class="fas fa-exclamation-triangle"></i> Barrier Targeting</h4>
                        <p><strong>Action:</strong> Focus on top barriers with targeted creative approaches:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>"Bad Experiences" (55%):</strong> Launch "Real Abu Dhabi" testimonial campaign featuring authentic Indian traveler stories</li>
                            <li><strong>"Weather Concerns" (32%):</strong> Create "Year-Round Comfort" content highlighting climate-controlled attractions</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 0;">
                        <h4 style="color: var(--secondary); margin-bottom: 8px;"><i class="fas fa-sun"></i> Seasonal Creative Strategy</h4>
                        <p><strong>Action:</strong> Tailor messaging to upcoming seasonal travel motivations:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Winter Peak (Nov-Dec):</strong> Emphasize winter sun, festive experiences, and year-end celebrations</li>
                            <li><strong>Spring Peak (Mar-May):</strong> Focus on cultural events, moderate temperatures, and family travel during school holidays</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Performance Measurement Tab Content -->
            <div id="content-analytics" class="tab-content" style="display: none;">
                <!-- Priority Actions -->
                <div style="background-color: var(--warning-light); border-radius: var(--radius); padding: 16px; margin-bottom: 20px; border-left: 4px solid var(--warning);">
                    <h4 style="color: var(--warning); margin-bottom: 10px;"><i class="fas fa-bolt"></i> Priority Actions</h4>
                    <p style="margin-bottom: 12px; color: var(--gray-800);"><strong>Implement enhanced measurement</strong> with updated KPI targets reflecting 18% projected ROI increase and funnel-stage tracking to measure awareness-to-intent progression</p>
                </div>
                
                <!-- Streamlined Analytics Guidance -->
                <div style="margin-bottom: 24px;">
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--warning); margin-bottom: 8px;"><i class="fas fa-chart-pie"></i> KPI Framework</h4>
                        <p><strong>Action:</strong> Focus on primary KPIs for remaining 2025 campaigns:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Travel queries:</strong> +12.2% growth target</li>
                            <li><strong>Consideration rate:</strong> 75.0% by Q4 2025</li>
                            <li><strong>Intent rate:</strong> 65.17% by Q4 2025</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 16px;">
                        <h4 style="color: var(--warning); margin-bottom: 8px;"><i class="fas fa-tachometer-alt"></i> Performance Monitoring</h4>
                        <p><strong>Action:</strong> Establish a streamlined monitoring system:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Weekly reviews:</strong> Track campaign performance against optimized impression targets</li>
                            <li><strong>Monthly deep dives:</strong> Analyze channel performance and audience response</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 0;">
                        <h4 style="color: var(--warning); margin-bottom: 8px;"><i class="fas fa-calculator"></i> ROI Measurement</h4>
                        <p><strong>Action:</strong> Implement focused ROI tracking:</p>
                        <ul style="margin-top: 8px; padding-left: 20px;">
                            <li><strong>Media elasticity tracking:</strong> Monitor the 0.68 elasticity ratio to ensure optimization is delivering expected results</li>
                            <li><strong>Incrementality testing:</strong> Run controlled tests to measure true impact of optimized media allocation</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Tab switching script -->
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    // Get all tab buttons and content divs
                    const tabButtons = document.querySelectorAll('.tab-button');
                    const tabContents = document.querySelectorAll('.tab-content');
                    
                    // Add click event to each tab button
                    tabButtons.forEach(button => {
                        button.addEventListener('click', function() {
                            // Remove active class from all buttons and hide all content
                            tabButtons.forEach(btn => {
                                btn.classList.remove('active');
                                btn.style.color = 'var(--gray-700)';
                                btn.style.borderBottom = 'none';
                            });
                            tabContents.forEach(content => {
                                content.style.display = 'none';
                            });
                            
                            // Add active class to clicked button and show corresponding content
                            this.classList.add('active');
                            
                            // Set active tab styling
                            if (this.id === 'tab-media') {
                                this.style.color = 'var(--primary)';
                                this.style.borderBottom = '3px solid var(--primary)';
                                document.getElementById('content-media').style.display = 'block';
                            } else if (this.id === 'tab-creative') {
                                this.style.color = 'var(--secondary)';
                                this.style.borderBottom = '3px solid var(--secondary)';
                                document.getElementById('content-creative').style.display = 'block';
                            } else if (this.id === 'tab-analytics') {
                                this.style.color = 'var(--warning)';
                                this.style.borderBottom = '3px solid var(--warning)';
                                document.getElementById('content-analytics').style.display = 'block';
                            }
                        });
                    });
                });
            </script>
        </div>
    </div>
    
    <div class="footer">
        <div class="container">
            <p>© 2025 Research & Insights Unit | Strategic Marketing & Communications | Department of Culture and Tourism – Abu Dhabi</p>
        </div>
    </div>
    
    <script src="enhanced_optimized_impressions_chart.js"></script>
    <script src="seasonality_chart.js"></script>
    <script src="objectivesByTypeChart_improved.js"></script>
    <script src="campaign_objectives_chart.js"></script>
    <script src="enhanced_dashboard_data.js"></script>
    <script src="campaignTimingChart.js"></script>
    <script src="brand_health_timeline_chart.js"></script>
    <script src="campaign_distribution_chart.js"></script>
    <script src="campaign_budget_charts.js"></script>
    <script src="budget_allocation_chart.js"></script>
    <script>
        // This script will run after the page loads to enhance the objectives by type charts
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for charts to be fully loaded
            setTimeout(function() {
                // Get the objectives section container
                const objectivesSection = document.querySelector('.objectives-section .chart-container-half');
                if (!objectivesSection) return;
                
                // Add a section title
                const sectionTitle = document.createElement('div');
                sectionTitle.style.textAlign = 'center';
                sectionTitle.style.marginBottom = '25px';
                sectionTitle.innerHTML = `
                    <h3 style="color: #333; font-size: 18px; margin-bottom: 8px;">Campaign Objectives by Type</h3>
                    <p style="color: #666; font-size: 14px; max-width: 700px; margin: 0 auto;">
                        These radar charts show the focus areas for each campaign type, highlighting the balance between awareness, consideration, intent, and familiarity objectives.
                    </p>
                `;
                objectivesSection.insertBefore(sectionTitle, objectivesSection.firstChild);
                
                // Find all chart containers
                const chartContainers = objectivesSection.querySelectorAll('div > div');
                if (chartContainers.length < 3) return;
                
                // Define chart types and their properties
                const chartTypes = [
                    {
                        name: 'Strategic Campaigns',
                        description: 'Strategic campaigns focus on long-term brand building with high awareness and familiarity objectives.',
                        color: '#4285f4'
                    },
                    {
                        name: 'Tactical Campaigns',
                        description: 'Tactical campaigns drive immediate action with strong intent objectives.',
                        color: '#34a853'
                    },
                    {
                        name: 'Culture Campaigns',
                        description: 'Culture campaigns highlight Abu Dhabi\'s cultural attractions, with a strong focus on awareness and familiarity.',
                        color: '#fbbc04'
                    }
                ];
                
                // Enhance each chart container
                chartContainers.forEach((container, index) => {
                    if (index >= chartTypes.length) return;
                    
                    // Apply styling to container
                    container.style.backgroundColor = 'white';
                    container.style.borderRadius = '8px';
                    container.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                    container.style.padding = '20px';
                    container.style.marginBottom = '20px';
                    container.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
                    container.style.borderTop = `4px solid ${chartTypes[index].color}`;
                    
                    // Add hover effect
                    container.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-5px)';
                        this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.15)';
                    });
                    
                    container.addEventListener('mouseleave', function() {
                        this.style.transform = '';
                        this.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                    });
                    
                    // Add title
                    const title = document.createElement('div');
                    title.style.fontSize = '16px';
                    title.style.fontWeight = '600';
                    title.style.marginBottom = '15px';
                    title.style.textAlign = 'center';
                    title.style.color = chartTypes[index].color;
                    title.textContent = chartTypes[index].name;
                    
                    // Add description
                    const description = document.createElement('div');
                    description.style.fontSize = '13px';
                    description.style.color = '#666';
                    description.style.margin = '15px 0';
                    description.style.textAlign = 'center';
                    description.textContent = chartTypes[index].description;
                    
                    // Insert title at the beginning of the container
                    container.insertBefore(title, container.firstChild);
                    
                    // Insert description after the canvas
                    const canvas = container.querySelector('canvas');
                    if (canvas) {
                        container.insertBefore(description, canvas.nextSibling);
                    } else {
                        container.appendChild(description);
                    }
                });
                
                // Add a legend at the bottom
                const legendContainer = document.createElement('div');
                legendContainer.style.display = 'flex';
                legendContainer.style.justifyContent = 'center';
                legendContainer.style.flexWrap = 'wrap';
                legendContainer.style.gap = '20px';
                legendContainer.style.marginTop = '15px';
                legendContainer.style.backgroundColor = 'white';
                legendContainer.style.borderRadius = '8px';
                legendContainer.style.padding = '15px';
                legendContainer.style.boxShadow = '0 1px 5px rgba(0, 0, 0, 0.1)';
                
                const dimensions = [
                    { name: 'Awareness', description: 'Focus on increasing brand recognition and visibility' },
                    { name: 'Consideration', description: 'Efforts to get travelers to evaluate Abu Dhabi as a destination' },
                    { name: 'Intent', description: 'Driving action and booking decisions' },
                    { name: 'Familiarity', description: 'Building deeper knowledge of destination offerings' }
                ];
                
                dimensions.forEach(dim => {
                    const dimensionElement = document.createElement('div');
                    dimensionElement.style.display = 'flex';
                    dimensionElement.style.alignItems = 'center';
                    
                    const colorDot = document.createElement('div');
                    colorDot.style.width = '8px';
                    colorDot.style.height = '8px';
                    colorDot.style.borderRadius = '50%';
                    colorDot.style.backgroundColor = '#333';
                    colorDot.style.marginRight = '8px';
                    
                    const dimensionText = document.createElement('div');
                    dimensionText.style.fontSize = '12px';
                    
                    const dimensionName = document.createElement('span');
                    dimensionName.textContent = dim.name;
                    dimensionName.style.fontWeight = '600';
                    dimensionName.style.color = '#333';
                    dimensionName.style.marginRight = '5px';
                    
                    const dimensionDesc = document.createElement('span');
                    dimensionDesc.textContent = dim.description;
                    dimensionDesc.style.color = '#666';
                    dimensionDesc.style.fontSize = '11px';
                    
                    dimensionText.appendChild(dimensionName);
                    dimensionText.appendChild(document.createTextNode(': '));
                    dimensionText.appendChild(dimensionDesc);
                    
                    dimensionElement.appendChild(colorDot);
                    dimensionElement.appendChild(dimensionText);
                    
                    legendContainer.appendChild(dimensionElement);
                });
                
                objectivesSection.appendChild(legendContainer);
                
            }, 1000); // Wait 1 second for charts to load
        });
    </script>
    <script>
        // Campaign budget data from detailed-campaign-planning-India.csv
        const detailedCampaignData = {
            campaigns: [
                { name: 'Summer', type: 'Strategic', budget: 2270012, budgetFormatted: '$2,270,012' },
                { name: 'NBA', type: 'Tactical', budget: 115270, budgetFormatted: '$115,270' },
                { name: 'Visit Abu Dhabi Always On', type: 'Strategic', budget: 420514, budgetFormatted: '$420,514' },
                { name: 'Abu Dhabi Calendar Always On', type: 'Strategic', budget: 547514, budgetFormatted: '$547,514' },
                { name: 'F1', type: 'Tactical', budget: 153678, budgetFormatted: '$153,678' },
                { name: 'Family Vacation with Ranveer Singh', type: 'Strategic', budget: 877197, budgetFormatted: '$877,197' },
                { name: 'Diwali', type: 'Tactical', budget: 408785, budgetFormatted: '$408,785' },
                { name: 'Ramadan', type: 'Tactical', budget: 542464, budgetFormatted: '$542,464' },
                { name: 'Saadiyat Cultural District', type: 'Culture', budget: 438552, budgetFormatted: '$438,552' },
                { name: 'Abu Dhabi Calendar Launch', type: 'Strategic', budget: 805099, budgetFormatted: '$805,099' },
                { name: 'Global Brand Ambassador Q1', type: 'Strategic', budget: 346457, budgetFormatted: '$346,457' },
                { name: 'Search Always On', type: 'Strategic', budget: 277449, budgetFormatted: '$277,449' },
                { name: 'Global Brand Ambassador Q4', type: 'Strategic', budget: 1300910, budgetFormatted: '$1,300,910' },
                { name: 'Comedy Week', type: 'Tactical', budget: 186668, budgetFormatted: '$186,668' }
            ]
        };
        
        // Sort campaigns by budget in descending order
        detailedCampaignData.campaigns.sort((a, b) => b.budget - a.budget);
        
        
        // Calculate campaign coverage for each barrier
        // This calculates how well our campaigns address each barrier on a scale of 0-100%
        const calculateCampaignCoverage = () => {
            // Get total budget for weighting
            const totalBudget = campaignData.campaigns.reduce((sum, c) => sum + c.budget, 0);
            
            // Calculate weighted coverage for each barrier
            const coverageByBarrier = {};
            
            // Initialize coverage object
            campaignData.barriers.forEach(barrier => {
                coverageByBarrier[barrier.key] = 0;
            });
            
            // Calculate weighted sum of barrier focus scores
            campaignData.campaigns.forEach(campaign => {
                const budgetWeight = campaign.budget / totalBudget;
                
                // Add weighted contribution to each barrier
                Object.keys(campaign.barrierFocus).forEach(barrierKey => {
                    const focusScore = campaign.barrierFocus[barrierKey];
                    coverageByBarrier[barrierKey] += focusScore * budgetWeight;
                });
            });
            
            // Convert to percentage (0-100) based on max possible score of 5
            const coveragePercentages = Object.keys(coverageByBarrier).map(key => {
                return (coverageByBarrier[key] / 5) * 100;
            });
            
            return coveragePercentages;
        };
        
        // Brand Health Metrics Timeline Data
        const brandHealthTimelineData = {
            quarters: ['Q3 2022', 'Q4 2022', 'Q1 2023', 'Q2 2023', 'Q3 2023', 'Q4 2023', 'Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025', 'Q2 2025', 'Q3 2025', 'Q4 2025'],
            awareness: {
                actual: [93.19, 93.00, 93.00, 93.00, 93.00, 94.00, 93.77, 94.60, 93.80, 94.50, null, null, null, null],
                target: [null, null, null, null, null, null, null, null, null, null, 94.50, 94.50, 94.50, 94.50]
            },
            consideration: {
                actual: [73.19, 75.00, 75.00, 75.00, 74.00, 74.34, 73.65, 75.00, 71.70, 74.36, null, null, null, null],
                target: [null, null, null, null, null, null, null, null, null, null, 74.50, 74.60, 74.70, 75.00]
            },
            intent: {
                actual: [61.09, 62.00, 63.00, 62.00, 62.00, 63.00, 63.00, 63.20, 63.00, 64.60, null, null, null, null],
                target: [null, null, null, null, null, null, null, null, null, null, 64.70, 64.80, 64.90, 65.17]
            }
        };
        
// Calculate derived data
const strategicCampaigns = campaignData.campaigns.filter(c => c.type === 'Strategic');
const tacticalCampaigns = campaignData.campaigns.filter(c => c.type === 'Tactical');
const cultureCampaigns = campaignData.campaigns.filter(c => c.type === 'Culture');

const totalBudget = campaignData.campaigns.reduce((sum, c) => sum + c.budget, 0);
const strategicBudget = strategicCampaigns.reduce((sum, c) => sum + c.budget, 0);
const tacticalBudget = tacticalCampaigns.reduce((sum, c) => sum + c.budget, 0);
const cultureBudget = cultureCampaigns.reduce((sum, c) => sum + c.budget, 0);
        
        // Helper function to get average objective scores by campaign type
        const getAverageObjectivesByType = (campaigns, type) => {
            const filteredCampaigns = campaigns.filter(c => c.type === type);
            return {
                awareness: filteredCampaigns.reduce((sum, c) => sum + c.objectives.awareness, 0) / filteredCampaigns.length,
                consideration: filteredCampaigns.reduce((sum, c) => sum + c.objectives.consideration, 0) / filteredCampaigns.length,
                intent: filteredCampaigns.reduce((sum, c) => sum + c.objectives.intent, 0) / filteredCampaigns.length,
                familiarity: filteredCampaigns.reduce((sum, c) => sum + c.objectives.familiarity, 0) / filteredCampaigns.length
            };
        };
        
        // Create charts when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Populate the barriers table
            const populateBarriersTable = () => {
                const tableBody = document.getElementById('barriersTableBody');
                if (!tableBody) return;
                
                // Calculate campaign coverage for each barrier
                const coverageByBarrier = {};
                const totalBudget = campaignData.campaigns.reduce((sum, c) => sum + c.budget, 0);
                
                // Initialize coverage object
                campaignData.barriers.forEach(barrier => {
                    coverageByBarrier[barrier.key] = 0;
                });
                
                // Calculate weighted sum of barrier focus scores
                campaignData.campaigns.forEach(campaign => {
                    const budgetWeight = campaign.budget / totalBudget;
                    
                    // Add weighted contribution to each barrier
                    Object.keys(campaign.barrierFocus).forEach(barrierKey => {
                        const focusScore = campaign.barrierFocus[barrierKey];
                        coverageByBarrier[barrierKey] += focusScore * budgetWeight;
                    });
                });
                
                // Convert to percentage (0-100) based on max possible score of 5
                campaignData.barriers.forEach(barrier => {
                    const coverage = (coverageByBarrier[barrier.key] / 5) * 100;
                    const coverageRounded = Math.round(coverage);
                    
                    // Calculate gap between barrier prevalence and campaign coverage
                    const gap = barrier.percentage - coverageRounded;
                    const gapText = gap > 10 ? 'Significant Gap' : gap > 0 ? 'Minor Gap' : 'Well Addressed';
                    const gapClass = gap > 10 ? 'negative' : gap > 0 ? 'warning' : 'positive';
                    
                    // Create row
                    const row = document.createElement('tr');
                    
                    // Barrier name
                    const nameCell = document.createElement('td');
                    nameCell.textContent = barrier.name;
                    row.appendChild(nameCell);
                    
                    // Prevalence
                    const prevalenceCell = document.createElement('td');
                    prevalenceCell.textContent = `${barrier.percentage}%`;
                    prevalenceCell.style.fontWeight = 'bold';
                    row.appendChild(prevalenceCell);
                    
                    // YoY Change
                    const changeCell = document.createElement('td');
                    const changeSymbol = barrier.change > 0 ? '▲' : '▼';
                    const changeClass = barrier.change > 0 ? 'negative' : 'positive';
                    changeCell.innerHTML = `<span class="${changeClass}">${changeSymbol} ${Math.abs(barrier.change)}pp</span>`;
                    row.appendChild(changeCell);
                    
                    // Campaign Coverage
                    const coverageCell = document.createElement('td');
                    const progressContainer = document.createElement('div');
                    progressContainer.className = 'progress-bar-container';
                    
                    const progressBar = document.createElement('div');
                    progressBar.className = 'progress-bar';
                    progressBar.style.width = `${coverageRounded}%`;
                    progressBar.style.backgroundColor = coverageRounded < 50 ? '#ea4335' : coverageRounded < 70 ? '#fbbc04' : '#34a853';
                    
                    const progressValue = document.createElement('div');
                    progressValue.className = 'progress-value';
                    progressValue.textContent = `${coverageRounded}%`;
                    
                    progressContainer.appendChild(progressBar);
                    coverageCell.appendChild(progressContainer);
                    coverageCell.appendChild(progressValue);
                    row.appendChild(coverageCell);
                    
                    // Gap Analysis
                    const gapCell = document.createElement('td');
                    gapCell.innerHTML = `<div class="gap-analysis"><span class="gap-indicator ${gapClass}">${gapText}</span></div>`;
                    row.appendChild(gapCell);
                    
                    tableBody.appendChild(row);
                });
            };
            
            // Call the function to populate the table
            populateBarriersTable();
            
            
            // Mobile chart tab functionality
            const chartTabs = document.querySelectorAll('.chart-tab');
            const barrierCharts = document.querySelectorAll('.barriers-chart');
            
            chartTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs and charts
                    chartTabs.forEach(t => t.classList.remove('active'));
                    barrierCharts.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Show the corresponding chart
                    const chartId = this.getAttribute('data-chart') + 'Container';
                    document.getElementById(chartId).classList.add('active');
                });
            });
            
            // 1. Campaign Type Distribution Chart
            const campaignTypeCtx = document.getElementById('campaignTypeChart').getContext('2d');
            
            // Calculate campaign counts by type from detailed-campaign-planning-India.csv
            const calculateCampaignCountsByType = () => {
                // Get campaigns from detailed data
                const campaigns = detailedCampaignData.campaigns;
                
                // Initialize counts
                let strategicCount = 0;
                let tacticalCount = 0;
                let cultureCount = 0;
                
                // Count campaigns by type
                campaigns.forEach(campaign => {
                    if (campaign.type === 'Strategic') {
                        strategicCount++;
                    } else if (campaign.type === 'Tactical') {
                        tacticalCount++;
                    } else if (campaign.type === 'Culture') {
                        cultureCount++;
                    }
                });
                
                return {
                    strategic: strategicCount,
                    tactical: tacticalCount,
                    culture: cultureCount
                };
            };
            
            // Get campaign counts by type
            const campaignCountsByType = calculateCampaignCountsByType();
            
            new Chart(campaignTypeCtx, {
                type: 'pie',
                data: {
                    labels: ['Strategic', 'Tactical', 'Culture'],
                    datasets: [{
                        data: [
                            campaignCountsByType.strategic,
                            campaignCountsByType.tactical,
                            campaignCountsByType.culture
                        ],
                        backgroundColor: ['#4285f4', '#34a853', '#fbbc04'],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0',
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        title: {
                            display: true,
                            text: 'Campaign Type Distribution',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${value} (${percentage}%)`;
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            },
                            displayColors: true,
                            boxPadding: 6
                        },
                        datalabels: {
                            color: '#ffffff',
                            font: {
                                weight: 'bold',
                                size: 14
                            },
                            formatter: (value, ctx) => {
                                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = Math.round((value / total) * 100);
                                return `${percentage}%`;
                            }
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 2000,
                        easing: 'easeOutQuart'
                    },
                    cutout: '40%',
                    radius: '90%'
                }
            });
            
            // 2. Budget Allocation by Campaign Type Chart - Updated with data from detailed-campaign-planning-India.csv
            const budgetAllocationCtx = document.getElementById('budgetAllocationChart').getContext('2d');
            
            // Calculate budget by campaign type from detailed-campaign-planning-India.csv
            const calculateBudgetByType = () => {
                // Get campaigns from detailed data
                const campaigns = detailedCampaignData.campaigns;
                
                // Initialize budget totals
                let strategicTotal = 0;
                let tacticalTotal = 0;
                let cultureTotal = 0;
                
                // Calculate totals by type
                campaigns.forEach(campaign => {
                    if (campaign.type === 'Strategic') {
                        strategicTotal += campaign.budget;
                    } else if (campaign.type === 'Tactical') {
                        tacticalTotal += campaign.budget;
                    } else if (campaign.type === 'Culture') {
                        cultureTotal += campaign.budget;
                    }
                });
                
                return {
                    strategic: strategicTotal,
                    tactical: tacticalTotal,
                    culture: cultureTotal,
                    total: strategicTotal + tacticalTotal + cultureTotal
                };
            };
            
            // Get budget data by type
            const budgetByType = calculateBudgetByType();
            
            // Format budget values for display
            const formatBudget = (value) => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    maximumFractionDigits: 0
                }).format(value);
            };
            
            new Chart(budgetAllocationCtx, {
                type: 'pie',
                data: {
                    labels: ['Strategic', 'Tactical', 'Culture'],
                    datasets: [{
                        data: [
                            budgetByType.strategic,
                            budgetByType.tactical,
                            budgetByType.culture
                        ],
                        backgroundColor: ['#4285f4', '#34a853', '#fbbc04'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0',
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        title: {
                            display: true,
                            text: 'Budget Allocation by Campaign Type (USD)',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${formatBudget(value)} (${percentage}%)`;
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            },
                            displayColors: true,
                            boxPadding: 6
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 2000,
                        easing: 'easeOutQuart'
                    },
                    cutout: '40%',
                    radius: '90%'
                }
            });
            
            // 3. Campaign Budget Chart - Updated with data from detailed-campaign-planning-India.csv
            const campaignBudgetCtx = document.getElementById('campaignBudgetChart').getContext('2d');
            
            new Chart(campaignBudgetCtx, {
                type: 'bar',
                data: {
                    labels: detailedCampaignData.campaigns.map(c => c.name),
                    datasets: [{
                        label: 'Budget (USD)',
                        data: detailedCampaignData.campaigns.map(c => c.budget),
                        backgroundColor: detailedCampaignData.campaigns.map(c => {
                            if (c.type === 'Strategic') return '#4285f4';
                            else if (c.type === 'Tactical') return '#34a853';
                            else return '#fbbc04'; // Culture or other types
                        }),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Campaign Budget Allocation (USD)',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const campaign = detailedCampaignData.campaigns[context.dataIndex];
                                    return `Budget: ${campaign.budgetFormatted} USD`;
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0',
                                callback: function(value) {
                                    if (value >= 1000000) {
                                        return (value / 1000000).toFixed(1) + 'M USD';
                                    } else if (value >= 1000) {
                                        return (value / 1000).toFixed(1) + 'K USD';
                                    }
                                    return value + ' USD';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Budget (USD)',
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            },
                            max: 2500000 // Set maximum value based on the highest budget
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0',
                                font: {
                                    size: 11
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // 4. Campaign Objectives Chart
            const objectivesCtx = document.getElementById('objectivesChart').getContext('2d');
            new Chart(objectivesCtx, {
                type: 'radar',
                data: {
                    labels: ['Awareness', 'Consideration', 'Intent', 'Familiarity'],
                    datasets: campaignData.campaigns.map((campaign, index) => ({
                        label: campaign.name,
                        data: [
                            campaign.objectives.awareness,
                            campaign.objectives.consideration,
                            campaign.objectives.intent,
                            campaign.objectives.familiarity
                        ],
                        backgroundColor: `rgba(${index * 20 % 255}, ${(index * 30 + 100) % 255}, ${(index * 50 + 50) % 255}, 0.2)`,
                        borderColor: `rgba(${index * 20 % 255}, ${(index * 30 + 100) % 255}, ${(index * 50 + 50) % 255}, 1)`,
                        borderWidth: 2,
                        pointRadius: 4,
                        pointBackgroundColor: `rgba(${index * 20 % 255}, ${(index * 30 + 100) % 255}, ${(index * 50 + 50) % 255}, 1)`,
                        pointBorderColor: '#fff',
                        pointHoverRadius: 6,
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: `rgba(${index * 20 % 255}, ${(index * 30 + 100) % 255}, ${(index * 50 + 50) % 255}, 1)`,
                        pointHoverBorderWidth: 2
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                color: '#e0e0e0',
                                padding: 15,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                font: {
                                    size: 11
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Campaign Objectives Comparison',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.dataset.label || '';
                                    const value = context.raw || 0;
                                    const category = context.chart.data.labels[context.dataIndex];
                                    return `${label}: ${category} = ${value}/5`;
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#e0e0e0',
                                backdropColor: 'transparent',
                                z: 10,
                                backdropPadding: 3,
                                showLabelBackdrop: true,
                                backdropColor: 'rgba(0, 0, 0, 0.7)',
                                font: {
                                    size: 10
                                }
                            },
                            min: 0,
                            max: 5,
                            beginAtZero: true
                        }
                    },
                    elements: {
                        line: {
                            tension: 0.1
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // 5. Objectives by Campaign Type Charts - Split into 3 separate charts
            // Remove the existing canvas
            const objectivesByTypeContainer = document.getElementById('objectivesByTypeChart').parentNode;
            document.getElementById('objectivesByTypeChart').remove();
            
            // Create 3 new canvas elements for each chart type
            const strategicCanvas = document.createElement('canvas');
            strategicCanvas.id = 'strategicObjectivesChart';
            strategicCanvas.style.height = '100%';
            strategicCanvas.style.width = '100%';
            
            const tacticalCanvas = document.createElement('canvas');
            tacticalCanvas.id = 'tacticalObjectivesChart';
            tacticalCanvas.style.height = '100%';
            tacticalCanvas.style.width = '100%';
            
            const cultureCanvas = document.createElement('canvas');
            cultureCanvas.id = 'cultureObjectivesChart';
            cultureCanvas.style.height = '100%';
            cultureCanvas.style.width = '100%';
            
            // Create a flex container for the charts
            const chartsContainer = document.createElement('div');
            chartsContainer.style.display = 'flex';
            chartsContainer.style.flexWrap = 'wrap';
            chartsContainer.style.gap = '20px';
            chartsContainer.style.justifyContent = 'center';
            
            // Create individual chart containers
            const strategicContainer = document.createElement('div');
            strategicContainer.style.flex = '1';
            strategicContainer.style.minWidth = '300px';
            strategicContainer.style.maxWidth = '400px';
            strategicContainer.appendChild(strategicCanvas);
            
            const tacticalContainer = document.createElement('div');
            tacticalContainer.style.flex = '1';
            tacticalContainer.style.minWidth = '300px';
            tacticalContainer.style.maxWidth = '400px';
            tacticalContainer.appendChild(tacticalCanvas);
            
            const cultureContainer = document.createElement('div');
            cultureContainer.style.flex = '1';
            cultureContainer.style.minWidth = '300px';
            cultureContainer.style.maxWidth = '400px';
            cultureContainer.appendChild(cultureCanvas);
            
            // Add all containers to the flex container
            chartsContainer.appendChild(strategicContainer);
            chartsContainer.appendChild(tacticalContainer);
            chartsContainer.appendChild(cultureContainer);
            
            // Add the flex container to the original chart container
            objectivesByTypeContainer.appendChild(chartsContainer);
            
            // Get average objectives by campaign type
            const strategicObjectives = getAverageObjectivesByType(campaignData.campaigns, 'Strategic');
            const tacticalObjectives = getAverageObjectivesByType(campaignData.campaigns, 'Tactical');
            
            // Add culture objectives from the CSV data
            // Saadiyat Cultural District campaign has these values from the CSV:
            // Awareness: 5, Familiarity: 3, Intent: 2, Familiarity: 5
            const cultureObjectives = {
                awareness: 5,
                consideration: 3, // Using the first Familiarity value as Consideration
                intent: 2,
                familiarity: 5
            };
            
            // Create Strategic Campaigns Chart
            const strategicCtx = document.getElementById('strategicObjectivesChart').getContext('2d');
            new Chart(strategicCtx, {
                type: 'radar',
                data: {
                    labels: ['Awareness', 'Consideration', 'Intent', 'Familiarity'],
                    datasets: [
                        {
                            label: 'Strategic Campaigns',
                            data: [
                                strategicObjectives.awareness,
                                strategicObjectives.consideration,
                                strategicObjectives.intent,
                                strategicObjectives.familiarity
                            ],
                            backgroundColor: 'rgba(66, 133, 244, 0.2)',
                            borderColor: '#4285f4',
                            borderWidth: 2,
                            pointRadius: 4,
                            pointBackgroundColor: '#4285f4'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Strategic Campaign Objectives',
                            color: '#e0e0e0',
                            font: {
                                size: 14,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 10
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#e0e0e0',
                                backdropColor: 'transparent',
                                font: {
                                    size: 10
                                }
                            },
                            min: 0,
                            max: 5,
                            beginAtZero: true,
                            suggestedMax: 5
                        }
                    }
                }
            });
            
            // Create Tactical Campaigns Chart
            const tacticalCtx = document.getElementById('tacticalObjectivesChart').getContext('2d');
            new Chart(tacticalCtx, {
                type: 'radar',
                data: {
                    labels: ['Awareness', 'Consideration', 'Intent', 'Familiarity'],
                    datasets: [
                        {
                            label: 'Tactical Campaigns',
                            data: [
                                tacticalObjectives.awareness,
                                tacticalObjectives.consideration,
                                tacticalObjectives.intent,
                                tacticalObjectives.familiarity
                            ],
                            backgroundColor: 'rgba(52, 168, 83, 0.2)',
                            borderColor: '#34a853',
                            borderWidth: 2,
                            pointRadius: 4,
                            pointBackgroundColor: '#34a853'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Tactical Campaign Objectives',
                            color: '#e0e0e0',
                            font: {
                                size: 14,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 10
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#e0e0e0',
                                backdropColor: 'transparent',
                                font: {
                                    size: 10
                                }
                            },
                            min: 0,
                            max: 5,
                            beginAtZero: true,
                            suggestedMax: 5
                        }
                    }
                }
            });
            
            // Create Culture Campaigns Chart
            const cultureCtx = document.getElementById('cultureObjectivesChart').getContext('2d');
            new Chart(cultureCtx, {
                type: 'radar',
                data: {
                    labels: ['Awareness', 'Consideration', 'Intent', 'Familiarity'],
                    datasets: [
                        {
                            label: 'Culture Campaigns',
                            data: [
                                cultureObjectives.awareness,
                                cultureObjectives.consideration,
                                cultureObjectives.intent,
                                cultureObjectives.familiarity
                            ],
                            backgroundColor: 'rgba(251, 188, 4, 0.2)',
                            borderColor: '#fbbc04',
                            borderWidth: 2,
                            pointRadius: 4,
                            pointBackgroundColor: '#fbbc04'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Culture Campaign Objectives',
                            color: '#e0e0e0',
                            font: {
                                size: 14,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 10
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: '#e0e0e0',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#e0e0e0',
                                backdropColor: 'transparent',
                                font: {
                                    size: 10
                                }
                            },
                            min: 0,
                            max: 5,
                            beginAtZero: true,
                            suggestedMax: 5
                        }
                    }
                }
            });
            
            // Monthly data for India from Country Data.csv
            const monthlyData = {
                months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                impressions2025: [308059995, 834140149, 1031750573, 2052809431, 2064921296, 865852843, 774169937, 774169937, 1377372476, 1961987179, 1491941387, 2101915441],
                travelQueries2024: [118.222, 123.2072, 113.0767, 123.2651, 116.7668, 97.4746, 111.4929, 124.0744, 180.1942, 149.0372, 142.7999, 142.0537],
                hotelGuests2024: [26842, 25715, 30133, 26636, 32950, 25710, 22137, 17221, 26383, 36480, 43636, 43813]
            };
            
            // Format impressions for display (used for hotel guests)
            const formatImpressions = (num) => {
                if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                }
                if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num.toString();
            };
            
            // 8. Seasonality Chart
            const seasonalityCtx = document.getElementById('seasonalityChart').getContext('2d');
            
            // Use the existing formatNumber function for impressions
            
            // Data from Country Data.csv for India
            const indiaData = {
                months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                travelQueries2024: [118.222, 123.2072, 113.0767, 123.2651, 116.7668, 97.4746, 111.4929, 124.0744, 180.1942, 149.0372, 142.7999, 142.0537],
                hotelGuests2024: [26842, 25715, 30133, 26636, 32950, 25710, 22137, 17221, 26383, 36480, 43636, 43813],
                impressions2025: [308059995, 834140149, 1031750573, 2052809431, 2064921296, 865852843, 774169937, 774169937, 1377372476, 1961987179, 1491941387, 2101915441]
            };
            
            // Create the seasonality chart
            const seasonalityChart = new Chart(seasonalityCtx, {
                type: 'line',
                data: {
                    labels: indiaData.months,
                    datasets: [
                        {
                            label: 'Impressions 2025 (planned)',
                            data: indiaData.impressions2025,
                            backgroundColor: 'rgba(66, 133, 244, 0.1)',
                            borderColor: '#4285f4',
                            borderWidth: 3,
                            pointRadius: 5,
                            pointBackgroundColor: '#4285f4',
                            tension: 0.2,
                            yAxisID: 'y-impressions'
                        },
                        {
                            label: 'Travel Queries 2024',
                            data: indiaData.travelQueries2024,
                            backgroundColor: 'rgba(234, 67, 53, 0.1)',
                            borderColor: '#ea4335',
                            borderWidth: 3,
                            pointRadius: 5,
                            pointBackgroundColor: '#ea4335',
                            tension: 0.2,
                            yAxisID: 'y-queries'
                        },
                        {
                            label: 'Hotel Guests 2024',
                            data: indiaData.hotelGuests2024,
                            backgroundColor: 'rgba(251, 188, 4, 0.1)',
                            borderColor: '#fbbc04',
                            borderWidth: 3,
                            pointRadius: 5,
                            pointBackgroundColor: '#fbbc04',
                            tension: 0.2,
                            yAxisID: 'y-guests'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#e0e0e0',
                                padding: 15,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Monthly Trends: Impressions, Travel Queries & Hotel Guests (India)',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.dataset.label || '';
                                    const value = context.raw || 0;
                                    
                                    if (context.datasetIndex === 0) { // Impressions
                                        return `${label}: ${formatNumber(value)}`;
                                    } else if (context.datasetIndex === 1) { // Travel Queries
                                        return `${label}: ${value.toFixed(1)}`;
                                    } else { // Hotel Guests
                                        return `${label}: ${value.toLocaleString()}`;
                                    }
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            }
                        },
                        'y-impressions': {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#4285f4',
                                callback: function(value) {
                                    return formatNumber(value);
                                }
                            },
                            title: {
                                display: true,
                                text: 'Impressions',
                                color: '#4285f4',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        'y-queries': {
                            type: 'linear',
                            display: false,
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                display: false
                            },
                            title: {
                                display: false,
                                text: 'Travel Queries',
                                color: '#ea4335',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        'y-guests': {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                color: '#fbbc04',
                                callback: function(value) {
                                    return formatImpressions(value);
                                }
                            },
                            title: {
                                display: true,
                                text: 'Hotel Guests',
                                color: '#fbbc04',
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // Log to confirm chart creation
            console.log('Seasonality chart created:', seasonalityChart);
            
            // 10. Barriers Chart
            const barriersCtx = document.getElementById('barriersChart').getContext('2d');
            
            // Create custom labels with percentage and change
            const barrierLabels = campaignData.barriers.map(b => {
                const changeSymbol = b.change > 0 ? '▲' : '▼';
                const changeColor = b.change > 0 ? '#ea4335' : '#34a853';
                return `${b.name} (${b.percentage}%, ${changeSymbol}${Math.abs(b.change)}pp)`;
            });
            
            new Chart(barriersCtx, {
                type: 'bar',
                data: {
                    labels: barrierLabels,
                    datasets: [{
                        label: 'Barrier Percentage',
                        data: campaignData.barriers.map(b => b.percentage),
                        backgroundColor: campaignData.barriers.map(b => b.change > 0 ? '#ea4335' : '#34a853'),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Barriers to Visitation',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const barrier = campaignData.barriers[context.dataIndex];
                                    const changeText = barrier.change > 0 
                                        ? `Increased by ${barrier.change}pp` 
                                        : `Decreased by ${Math.abs(barrier.change)}pp`;
                                    return `${barrier.name}: ${barrier.percentage}% (${changeText})`;
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            }
                        },
                        datalabels: {
                            align: 'end',
                            anchor: 'end',
                            color: function(context) {
                                const barrier = campaignData.barriers[context.dataIndex];
                                return barrier.change > 0 ? '#ea4335' : '#34a853';
                            },
                            font: {
                                weight: 'bold',
                                size: 12
                            },
                            formatter: function(value, context) {
                                const barrier = campaignData.barriers[context.dataIndex];
                                const sign = barrier.change > 0 ? '+' : '';
                                return `${sign}${barrier.change}pp`;
                            },
                            padding: {
                                top: 4
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0',
                                font: {
                                    size: 11
                                },
                                maxRotation: 45,
                                minRotation: 45
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            },
                            title: {
                                display: true,
                                text: 'Percentage (%)',
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // Optimized Media Impressions Chart
            const optimizedImpressionsCtx = document.getElementById('optimizedImpressionsChart').getContext('2d');
            
            // Create optimized impression allocation based on booking window and seasonality
            const createOptimizedImpressions = () => {
                // Start with the planned 2025 impressions
                const planned = [...campaignData.mediaImpressions.proposed];
                const total = planned.reduce((sum, val) => sum + val, 0);
                
                // Create optimized allocation that better aligns with the booking window
                // and seasonality patterns
                const optimized = [...planned];
                
                // Increase September-October (indexes 8-9) by 35-40% to capture the November-December peak
                optimized[8] = planned[8] * 1.38; // 38% increase for September
                optimized[9] = planned[9] * 1.35; // 35% increase for October
                
                // Increase January (index 0) by 25% for March-April secondary peak
                optimized[0] = planned[0] * 1.25; // 25% increase for January
                
                // Reduce February (index 1) by 35% (currently over-allocated)
                optimized[1] = planned[1] * 0.65; // 35% reduction for February
                
                // Reduce April-May (indexes 3-4) by 15-20%
                optimized[3] = planned[3] * 0.85; // 15% reduction for April
                optimized[4] = planned[4] * 0.80; // 20% reduction for May
                
                // Reduce December (index 11) by 25% (too late for high-season travel)
                optimized[11] = planned[11] * 0.75; // 25% reduction for December
                
                // Increase July-August (indexes 6-7) by 15-20% for September shoulder season
                optimized[6] = planned[6] * 1.15; // 15% increase for July
                optimized[7] = planned[7] * 1.20; // 20% increase for August
                
                // Adjust other months to maintain total impressions
                const newTotal = optimized.reduce((sum, val) => sum + val, 0);
                const adjustmentFactor = total / newTotal;
                
                return optimized.map(val => val * adjustmentFactor);
            };
            
            // Generate optimized impressions
            const optimizedImpressions = createOptimizedImpressions();
            
            // Calculate percentage difference between planned and optimized
            const calculatePercentageDiff = () => {
                return campaignData.mediaImpressions.months.map((month, index) => {
                    const planned = campaignData.mediaImpressions.proposed[index];
                    const optimized = optimizedImpressions[index];
                    const percentDiff = ((optimized - planned) / planned) * 100;
                    return percentDiff;
                });
            };
            
            const percentageDiffs = calculatePercentageDiff();
            
            new Chart(optimizedImpressionsCtx, {
                type: 'bar',
                data: {
                    labels: campaignData.mediaImpressions.months,
                    datasets: [
                        {
                            label: '2025 Planned Impressions',
                            data: campaignData.mediaImpressions.proposed,
                            backgroundColor: 'rgba(66, 133, 244, 0.7)',
                            borderColor: '#4285f4',
                            borderWidth: 1,
                            order: 2
                        },
                        {
                            label: '2025 Optimized Impressions',
                            data: optimizedImpressions,
                            backgroundColor: 'rgba(52, 168, 83, 0.7)',
                            borderColor: '#34a853',
                            borderWidth: 1,
                            order: 1
                        },
                        {
                            label: 'Optimization % Change',
                            data: percentageDiffs,
                            type: 'line',
                            backgroundColor: 'rgba(251, 188, 4, 0.2)',
                            borderColor: '#fbbc04',
                            borderWidth: 2,
                            pointRadius: 4,
                            pointBackgroundColor: '#fbbc04',
                            pointBorderColor: '#fff',
                            pointHoverRadius: 6,
                            yAxisID: 'y1',
                            order: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#e0e0e0',
                                padding: 15,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: '2025 Media Impressions: Planned vs Optimized for Booking Window',
                            color: '#e0e0e0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.dataset.label || '';
                                    const value = context.raw || 0;
                                    
                                    if (context.datasetIndex === 2) { // Percentage change dataset
                                        return `${label}: ${value.toFixed(1)}%`;
                                    } else {
                                        return `${label}: ${formatNumber(value)}`;
                                    }
                                }
                            },
                            padding: 12,
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 14
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#e0e0e0',
                                callback: function(value) {
                                    return formatNumber(value);
                                }
                            },
                            title: {
                                display: true,
                                text: 'Impressions',
                                color: '#e0e0e0',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        y1: {
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                color: '#fbbc04',
                                callback: function(value) {
                                    return value.toFixed(0) + '%';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Optimization % Change',
                                color: '#fbbc04',
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // Calculate campaign coverage for each barrier
            const campaignCoverageData = calculateCampaignCoverage();
        });
    </script>
